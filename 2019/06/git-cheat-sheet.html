<!DOCTYPE html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
--><html lang="en" class="no-js">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Git Cheat Sheet - A code to remember</title>
<meta name="description" content="This is not a complete Git cheat sheet for everyone, this is just a personal cheat sheet for some often forgotten git commands.">


  <meta name="author" content="Xiang ZHU">
  
  <meta property="article:author" content="Xiang ZHU">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="A code to remember">
<meta property="og:title" content="Git Cheat Sheet">
<meta property="og:url" content="https://www.copdips.com/2019/06/git-cheat-sheet.html">


  <meta property="og:description" content="This is not a complete Git cheat sheet for everyone, this is just a personal cheat sheet for some often forgotten git commands.">







  <meta property="article:published_time" content="2019-06-19T00:00:00+00:00">



  <meta property="article:modified_time" content="2023-06-02T23:00:24+00:00">



  

  


<link rel="canonical" href="https://www.copdips.com/2019/06/git-cheat-sheet.html">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Xiang ZHU",
      "url": "https://www.copdips.com/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="A code to remember Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          A code to remember
          
        </a>
        <ul class="visible-links">
<li class="masthead__menu-item">
              <a href="/">Home</a>
            </li>
<li class="masthead__menu-item">
              <a href="/tags/">Tags</a>
            </li>
<li class="masthead__menu-item">
              <a href="/year-archive/">Year Archive</a>
            </li>
</ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<!-- back to top button -->
<!-- https://github.com/mmistakes/minimal-mistakes/issues/1731#issuecomment-628997645 -->
<script src="https://unpkg.com/vanilla-back-to-top@7.2.1/dist/vanilla-back-to-top.min.js"></script>
<script>addBackToTop({
  diameter: 56,
  backgroundColor: '#F16334',
  textColor: '#fff'
})</script>

<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person" class="h-card">

  
    <div class="author__avatar">
      <a href="https://www.copdips.com/">
        <img src="/image/avatar/zhuxiang-smile.jpg" alt="Xiang ZHU" itemprop="image" class="u-photo">
      </a>
    </div>
  

  <div class="author__content">
    <h3 class="author__name p-name" itemprop="name">
      <a class="u-url" rel="me" href="https://www.copdips.com/" itemprop="url">Xiang ZHU</a>
    </h3>
    
      <div class="author__bio p-note" itemprop="description">
        <p>Python DevOps</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name" class="p-locality">Paris</span>
        </li>
      

      
        
          
            <li><a href="https://www.copdips.com" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fas fa-fw fa-link" aria-hidden="true"></i><span class="label">Website</span></a></li>
          
        
          
        
          
        
          
            <li><a href="https://github.com/copdips" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
          
            <li><a href="https://www.linkedin.com/in/xiang-zhu-13769311/" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span class="label">LinkedIn</span></a></li>
          
        
          
        
      

      

      
        <li>
          <a href="mailto:xiang.zhu@outlook.com" rel="me" class="u-email">
            <meta itemprop="email" content="xiang.zhu@outlook.com">
            <i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">Email</span>
          </a>
        </li>
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer me">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->

      <!-- 
<script type="text/javascript" src="/assets/js/qrcode/qrcode.min.js"></script>
<div id="qrcode"></div>
<script type="text/javascript">
  var qrcode = new QRCode('qrcode', {width: 10, height: 10, text: location.href});
</script>
 -->
    </ul>
  </div>
</div>
  
  </div>



  <article class="page h-entry" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Git Cheat Sheet">
    <meta itemprop="description" content="  This is not a complete Git cheat sheet for everyone, this is just a personal cheat sheet for some often forgotten git commands.">
    <meta itemprop="datePublished" content="2019-06-19T00:00:00+00:00">
    <meta itemprop="dateModified" content="2023-06-02T23:00:24+00:00">

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title p-name" itemprop="headline">
            <a href="https://www.copdips.com/2019/06/git-cheat-sheet.html" class="u-url" itemprop="url">Git Cheat Sheet
</a>
          </h1>
          

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2019-06-19T00:00:00+00:00">June 19, 2019</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          5 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content e-content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title">
<i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu">
<li><a href="#alias">Alias</a></li>
<li><a href="#bashrc">~/.bashrc</a></li>
<li>
<a href="#restore">Restore</a><ul>
<li><a href="#restore-a-file-to-an-old-version">Restore a file to an old version</a></li>
<li><a href="#restore-a-deleted-branch">Restore a deleted branch</a></li>
</ul>
</li>
<li>
<a href="#undo">Undo</a><ul>
<li><a href="#discard-changes-in-working-directory">Discard changes in working directory</a></li>
<li><a href="#discard-last-commit-completely-remove">Discard last commit (completely remove)</a></li>
<li><a href="#unstage-from-staging-area">Unstage from staging area</a></li>
<li><a href="#undo-commit-to-working-directory">Undo commit to working directory</a></li>
<li><a href="#undo-commit-to-staging-area">Undo commit to staging area</a></li>
<li><a href="#undo-staging-to-working-directory">Undo staging to working directory</a></li>
</ul>
</li>
<li>
<a href="#authentication">Authentication</a><ul><li><a href="#with-bearer-token">With bearer token</a></li></ul>
</li>
<li>
<a href="#branch">Branch</a><ul>
<li><a href="#force-local-branch-to-the-same-with-remote-branch">Force local branch to the same with remote branch</a></li>
<li><a href="#get-last-commit-of-another-local-branch">get last commit of another local branch</a></li>
<li><a href="#get-all-commits-of-another-local-other_branch">get all commits of another local other_branch</a></li>
</ul>
</li>
<li>
<a href="#show-diff">Show diff</a><ul>
<li><a href="#show-content-in-staging-area">show content in staging area</a></li>
<li><a href="#show-content-in-the-last-commit-local-repository">show content in the last commit local repository</a></li>
<li><a href="#show-content-in-the-second-last-commit-in-local-repository">show content in the second last commit in local repository</a></li>
</ul>
</li>
<li><a href="#disable-host-key-checking">Disable host key checking</a></li>
<li><a href="#proxy">Proxy</a></li>
<li><a href="#gui">GUI</a></li>
<li><a href="#pull-requests-with-rebase">Pull Requests with Rebase</a></li>
<li><a href="#moving-git-repository-content-to-another-repository-preserving-history">Moving Git repository content to another repository preserving history</a></li>
</ul>

            </nav>
          </aside>
        
        <blockquote>
  <p>This is not a complete Git cheat sheet for everyone, this is just a personal cheat sheet for some often forgotten git commands.</p>

</blockquote>

<h2 id="alias">Alias</h2>

<p>User level alias</p>

<p>Edit <code class="language-plaintext highlighter-rouge">~/.gitconfig</code></p>

<div class="language-ini highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">git</span> <span class="err">config</span> <span class="err">--global</span> <span class="err">alias.st</span> <span class="err">status</span>
<span class="err">git</span> <span class="err">config</span> <span class="err">--global</span> <span class="err">alias.lga</span> <span class="err">log</span> <span class="err">--graph</span> <span class="err">--decorate</span> <span class="err">--oneline</span> <span class="err">--all</span>
<span class="err">git</span> <span class="err">config</span> <span class="err">--global</span> <span class="err">alias.co</span> <span class="err">checkout</span>
<span class="err">git</span> <span class="err">config</span> <span class="err">--global</span> <span class="err">alias.last</span> <span class="err">log</span> <span class="err">-1</span> <span class="err">HEAD</span>
<span class="err">git</span> <span class="err">config</span> <span class="err">--global</span> <span class="err">alias.ci</span> <span class="err">commit</span>
<span class="err">git</span> <span class="err">config</span> <span class="err">--global</span> <span class="err">alias.unstage</span> <span class="err">reset</span> <span class="err">HEAD</span>
<span class="err">git</span> <span class="err">config</span> <span class="err">--global</span> <span class="err">alias.ll</span> <span class="err">"log</span> <span class="err">--graph</span> <span class="err">--all</span> <span class="py">--pretty</span><span class="p">=</span><span class="s">format:'%C(auto)%h%Creset %an: git config --global %s - %Creset %C(auto)%d%Creset %C(bold black)(%cr)%Creset %C(bold git config --global black)(%ci)%Creset' --no-abbrev-commit"</span>
<span class="err">git</span> <span class="err">config</span> <span class="err">--global</span> <span class="err">alias.sh</span> <span class="err">show</span>
<span class="err">git</span> <span class="err">config</span> <span class="err">--global</span> <span class="err">alias.df</span> <span class="err">diff</span>
<span class="err">git</span> <span class="err">config</span> <span class="err">--global</span> <span class="err">alias.br</span> <span class="err">branch</span>
<span class="err">git</span> <span class="err">config</span> <span class="err">--global</span> <span class="err">alias.cm</span> <span class="err">checkout</span> <span class="err">main</span>
<span class="err">git</span> <span class="err">config</span> <span class="err">--global</span> <span class="err">alias.cd</span> <span class="err">checkout</span> <span class="err">dev</span>
<span class="err">git</span> <span class="err">config</span> <span class="err">--global</span> <span class="err">alias.rum</span> <span class="err">pull</span> <span class="err">--rebase</span> <span class="err">upstream</span> <span class="err">main</span>
<span class="err">git</span> <span class="err">config</span> <span class="err">--global</span> <span class="err">alias.rud</span> <span class="err">pull</span> <span class="err">--rebase</span> <span class="err">upstream</span> <span class="err">dev</span>
<span class="err">git</span> <span class="err">config</span> <span class="err">--global</span> <span class="err">alias.rom</span> <span class="err">pull</span> <span class="err">--rebase</span> <span class="err">origin</span> <span class="err">main</span>
<span class="err">git</span> <span class="err">config</span> <span class="err">--global</span> <span class="err">alias.rod</span> <span class="err">pull</span> <span class="err">--rebase</span> <span class="err">origin</span> <span class="err">dev</span>
</code></pre></div></div>

<h2 id="bashrc">~/.bashrc</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">alias </span><span class="nv">gitpush</span><span class="o">=</span><span class="s1">'git ci -am $GIT_BRANCH ; git push origin $GIT_BRANCH'</span>
<span class="nb">alias </span><span class="nv">gitamendpush</span><span class="o">=</span><span class="s1">'git add . ; git amend ; git push origin $GIT_BRANCH -f'</span>
<span class="nb">alias </span><span class="nv">gitrebasemain</span><span class="o">=</span><span class="s1">'git cm ; git rom ; git fetch origin --prune ; git br -d $GIT_BRANCH'</span>
<span class="nb">alias </span><span class="nv">gitrebasedev</span><span class="o">=</span><span class="s1">'git cd ; git rod ; git fetch origin --prune ; git br -d $GIT_BRANCH'</span>
</code></pre></div></div>

<h2 id="restore">Restore</h2>

<h3 id="restore-a-file-to-an-old-version">Restore a file to an old version</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git restore <span class="nt">--source</span> <span class="o">[</span>old_commit_hash] <span class="o">[</span>file_name]
</code></pre></div></div>

<h3 id="restore-a-deleted-branch">Restore a deleted branch</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git reflog
git branch <span class="o">[</span>branch_name] <span class="o">[</span>commit_hash_that_preceded_the_delete_commit]
</code></pre></div></div>

<h2 id="undo">Undo</h2>

<p><img class="mermaid" src="https://mermaid.ink/svg/eyJjb2RlIjoiZmxvd2NoYXJ0IExSXG5BKFdvcmtpbmcgZGlyZWN0b3J5KSAtLT58XCJnaXQgYWRkXCJ8IEIoU3RhZ2luZyBhcmVhKVxuQiAtLT58XCJnaXQgY29tbWl0XCJ8IEMoQ29tbWl0KVxuQyAtLT58XCJnaXQgcmVzZXQgLS1zb2Z0IEhFQUR-IDxici8-KGNhbm5vdCByZXNldCBzaW5nbGUgZmlsZXMpXCJ8IEJcbkMgLS0-fFwiZ2l0IHJlc2V0IEhFQUR-XCJ8IEFcbkIgLS0-fFwiZ2l0IHJlc3RvcmUgLS1zdGFnZWQ8YnIvPmdpdCByZXNldDxici8-Z2l0IHJlc2V0IEhFQURcInwgQVxuQyAtLT58XCJnaXQgcmVzZXQgLS1oYXJkXCJ8IEQoL2Rldi9udWxsKVxuQSAtLT58XCJnaXQgY2hlY2tvdXRcInwgRFxuRCAtLT58XCJnaXQgcmVmbG9nPGJyLz5naXQgY2hlcnJ5LXBpY2sgW2NvbW1pdF1cInwgQyIsIm1lcm1haWQiOm51bGx9"></p>

<h3 id="discard-changes-in-working-directory">Discard changes in working directory</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># discard changes to a file in working directory</span>
git checkout &lt;filename or wildcard&gt;

<span class="c"># discard changes to all files in working directory</span>
git checkout <span class="nb">.</span>
<span class="c"># or</span>
git checkout <span class="k">*</span>
</code></pre></div></div>

<p class="notice--info">Untracked files cannot be discarded by checkout.</p>

<h3 id="discard-last-commit-completely-remove">Discard last commit (completely remove)</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># better to show git log history before using --hard for rollback purpose.</span>
git reset <span class="nt">--hard</span> HEAD~
</code></pre></div></div>

<p class="notice--info">We can recover the commit discarded by <code class="language-plaintext highlighter-rouge">--hard</code> with the <code class="language-plaintext highlighter-rouge">git cherry-pick [commit number]</code> if we displayed or saved it before. Whatever you can also use <code class="language-plaintext highlighter-rouge">git reflog</code> to get the commit number too.</p>

<h3 id="unstage-from-staging-area">Unstage from staging area</h3>

<p><a href="https://stackoverflow.com/questions/348170/how-do-i-undo-git-add-before-commit">StackOverflow: How do I undo git add before commit?</a></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># unstage a file from staging area</span>
git reset &lt;filename or wildcard&gt;

<span class="c"># unstage all files from staging area</span>
git reset
</code></pre></div></div>

<p class="notice--info">No more need to add <code class="language-plaintext highlighter-rouge">HEAD</code> like <code class="language-plaintext highlighter-rouge">git reset HEAD &lt;file&gt;</code> and <code class="language-plaintext highlighter-rouge">git reset HEAD</code> since git v1.8.2.</p>

<p class="notice--warning">Do not use <code class="language-plaintext highlighter-rouge">git rm --cached &lt;filename&gt;</code> to unstage, it works only for newly created file to remove them from the staging area. But if you specify a existing file, it will delete it from cache, even if it is not staged.</p>

<h3 id="undo-commit-to-working-directory">Undo commit to working directory</h3>

<p><a href="https://stackoverflow.com/questions/927358/how-do-i-undo-the-most-recent-local-commits-in-git">StackOverflow: How do I undo the most recent local commits in Git?</a></p>

<blockquote>
  <p>You should readd the files if you want to commit them, as they’re in the working directory now, they’re unstaged too.</p>
</blockquote>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Undo last commit to working directory</span>
git reset HEAD~
<span class="c"># same as to</span>
git reset HEAD~1

<span class="c"># Undo last 2 commits to working directory</span>
git reset HEAD~2

<span class="c"># Undo till a special commit to working directory,</span>
<span class="c"># the special commit and every commits before are still committed.</span>
git reset &lt;commit number&gt;
</code></pre></div></div>

<p class="notice--info"><code class="language-plaintext highlighter-rouge">git reset HEAD</code> will do nothing, as the HEAD is already at the last commit.</p>

<p class="notice--info"><code class="language-plaintext highlighter-rouge">git reset HEAD~1 &lt;file&gt;</code> will create a delete file index in staging area. Normally we don’t need this command.</p>

<h3 id="undo-commit-to-staging-area">Undo commit to staging area</h3>

<p><a href="https://stackoverflow.com/questions/927358/how-do-i-undo-the-most-recent-local-commits-in-git">StackOverflow: How do I undo the most recent local commits in Git?</a></p>

<p>Add <code class="language-plaintext highlighter-rouge">--soft</code> to <code class="language-plaintext highlighter-rouge">git reset</code> to undo commit to staging area.</p>

<h3 id="undo-staging-to-working-directory">Undo staging to working directory</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># used after a git add</span>
git restore <span class="nt">--staged</span> &lt;file&gt;
git reset
</code></pre></div></div>

<h2 id="authentication">Authentication</h2>

<h3 id="with-bearer-token">With bearer token</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># https://learn.microsoft.com/en-us/azure/devops/integrate/get-started/authentication/service-principal-managed-identity?view=azure-devops#q-can-i-use-a-service-principal-to-do-git-operations-like-clone-a-repo</span>
git <span class="nt">-c</span> http.extraheader<span class="o">=</span><span class="s2">"AUTHORIZATION: bearer </span><span class="nv">$ServicePrincipalAadAccessToken</span><span class="s2">"</span> clone https://dev.azure.com/<span class="o">{</span>yourOrgName<span class="o">}</span>/<span class="o">{</span>yourProjectName<span class="o">}</span>/_git/<span class="o">{</span>yourRepoName<span class="o">}</span>
</code></pre></div></div>

<h2 id="branch">Branch</h2>

<h3 id="force-local-branch-to-the-same-with-remote-branch">Force local branch to the same with remote branch</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git reset <span class="nt">--hard</span> upstream/master
or
git checkout <span class="nt">-B</span> master origin/master <span class="c"># sometimes this one might not work</span>
</code></pre></div></div>

<h3 id="get-last-commit-of-another-local-branch">get last commit of another local branch</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git cherry-pick another_local_branch
</code></pre></div></div>

<h3 id="get-all-commits-of-another-local-other_branch">get all commits of another local other_branch</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>get rebase another_local_branch
</code></pre></div></div>

<h2 id="show-diff">Show diff</h2>

<h3 id="show-content-in-staging-area">show content in staging area</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git diff <span class="nt">--cached</span>
</code></pre></div></div>

<h3 id="show-content-in-the-last-commit-local-repository">show content in the last commit local repository</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git show
git show HEAD
</code></pre></div></div>

<h3 id="show-content-in-the-second-last-commit-in-local-repository">show content in the second last commit in local repository</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git show HEAD~
git show HEAD~1
</code></pre></div></div>

<h2 id="disable-host-key-checking">Disable host key checking</h2>

<p>Sometimes during CICD, we need to use git to do something, if the remote repository is accessed by SSH, the first time when you use git (git clone for example), you need to accept the remote host key. This might be a problem for CICD as it cannot type <code class="language-plaintext highlighter-rouge">Y</code> for you as you do in an interactive session. To let git to disable the host key checking or precisely accept automatically the remote host key, you need to add the following line in git config:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span> git config <span class="nt">--global</span> core.sshcommand <span class="s1">'ssh -i [YouPrivateKeyPath] -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no -F /dev/null'</span>
</code></pre></div></div>

<p>You may need to use <code class="language-plaintext highlighter-rouge">git config --system</code> to set the config at system level.</p>

<h2 id="proxy">Proxy</h2>

<p>Usually, in an enterprise environment, we need to use a proxy to connect to the Internet resources.
And from Powershell, we can ask Powershell to <a href="https://copdips.com/2018/05/setting-up-powershell-gallery-and-nuget-gallery-for-powershell.html#configure-proxy-in-powershell">inherit the IE proxy settings</a>.</p>

<p>With this proxy setting in Powershell, we should be able to use <code class="language-plaintext highlighter-rouge">git clone</code> to connect to the external <a href="www.github.com">www.github.com</a> or to the internally hosted for example <a href="github.your_enterprise_local_domain">github.your_enterprise_local_domain</a>.</p>

<p>But trust me, some enterprises’ proxy settings (often for those who use a <a href="https://en.wikipedia.org/wiki/Proxy_auto-config">.pac</a> file) are so complicated that Powershell cannot use the proxy the same way as IE.</p>

<p>In such case, fortunately, git has its own proxy setting. I think the <a href="https://git-scm.com/docs/git-config">official doc</a> doesn’t explain very well how to set the proxy. But this <a href="https://gist.github.com/evantoli/f8c23a37eb3558ab8765">gist</a> gives some good examples.</p>

<p>So, normally, you just need to set this config to ask git to use the <code class="language-plaintext highlighter-rouge">$internet_proxy</code> only for the url github.com, and all the other urls, git won’t use the proxy.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config <span class="nt">--global</span> http.https://github.com.proxy <span class="nv">$internet_proxy</span>
</code></pre></div></div>

<h2 id="gui">GUI</h2>

<p>GitForWindows ships with a GUI tool, very cool.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># start git gui tool</span>
git gui
</code></pre></div></div>

<p><img src="https://github.com/copdips/copdips.github.io/raw/master/_image/blog/2019-06-19-git-cheat-sheet/git-gui.PNG" alt="git-gui"></p>

<h2 id="pull-requests-with-rebase">Pull Requests with Rebase</h2>

<p>Azure devops doc: <a href="https://devblogs.microsoft.com/devops/pull-requests-with-rebase/">https://devblogs.microsoft.com/devops/pull-requests-with-rebase/</a></p>

<h2 id="moving-git-repository-content-to-another-repository-preserving-history">Moving Git repository content to another repository preserving history</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># https://stackoverflow.com/a/55907198/5095636</span>
<span class="c"># this keeps all commits history and git tags</span>
<span class="nv">$ </span>git clone <span class="nt">--bare</span> https://github.com/exampleuser/old-repository.git
<span class="nv">$ </span><span class="nb">cd </span>old-repository.git
<span class="nv">$ </span>git push <span class="nt">--mirror</span> https://github.com/exampleuser/new-repository.git
<span class="nv">$ </span><span class="nb">cd</span> -
<span class="nv">$ </span><span class="nb">rm</span> <span class="nt">-rf</span> old-repository.git
</code></pre></div></div>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/#git" class="page__taxonomy-item p-category" rel="tag">git</a>
    
    </span>
  </p>




        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time class="dt-published" datetime="2023-06-02">June 2, 2023</time></p>

      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?text=Git+Cheat+Sheet%20https%3A%2F%2Fwww.copdips.com%2F2019%2F06%2Fgit-cheat-sheet.html" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwww.copdips.com%2F2019%2F06%2Fgit-cheat-sheet.html" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fwww.copdips.com%2F2019%2F06%2Fgit-cheat-sheet.html" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>

  <a href="https://www.reddit.com/submit?url=https%3A%2F%2Fwww.copdips.com%2F2019%2F06%2Fgit-cheat-sheet.html&title=Git%20Cheat%20Sheet" class="btn btn--reddit" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Reddit"><i class="fab fa-fw fa-reddit" aria-hidden="true"></i><span> Reddit</span></a>
</section>


      <script type="text/javascript" src="/assets/js/qrcode/qrcode.min.js"></script>
      <div id="qrcode"></div>
      <script type="text/javascript">
        var qrcode = new QRCode('qrcode', {width: 100, height: 100, text: location.href});
      </script>

      
  <nav class="pagination">
    
      <a href="/2019/05/using-python-sqlalchemy-session-in-multithreading.html" class="pagination--pager" title="Using Python SQLAlchemy session in multithreading
">Previous</a>
    
    
      <a href="/2019/07/filtering-pandas-dataframe.html" class="pagination--pager" title="Filtering In Pandas Dataframe
">Next</a>
    
  </nav>

    </div>

    
      <div class="page__comments">
  
  
      <h4 class="page__comments-title">Leave a comment</h4>
      <section id="disqus_thread"></section>
    
</div>

    
  </article>

  
  
    <div class="page__related">
      <h2 class="page__related-title">You may also enjoy</h2>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2023/11/github-actions-deploy-static-files-to-azure-web-app.html" rel="permalink">Github actions - deploy static files to azure web app
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2023-11-18T00:00:00+00:00">November 18, 2023</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          1 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2023/11/Some-nice-CICD-bash-common-scripts.html" rel="permalink">Some nice cicd bash common scripts
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2023-11-18T00:00:00+00:00">November 18, 2023</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          less than 1 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2023/11/github-actions-bash-shell-pipefail.html" rel="permalink">Github Actions - Bash shell -e -o pipefail
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2023-11-08T00:00:00+00:00">November 8, 2023</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          1 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2023/10/hashing-files.html" rel="permalink">Hashing files
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2023-10-21T00:00:00+00:00">October 21, 2023</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          2 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap">
<form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term...">
  </form>
  <div id="results" class="results"></div>
</div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
      
        
      
        
          <li><a href="mailto:xiang.zhu@outlook.com" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i> Email</a></li>
        
      
        
          <li><a href="https://github.com/copdips" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
          <li><a href="https://www.linkedin.com/in/xiang-zhu-13769311/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> LinkedIn</a></li>
        
      
        
      
        
      
        
      
        
          <li><a href="https://uptimerobot.com/dashboard#785564645" rel="nofollow noopener noreferrer"><i class="fas fa-clock" aria-hidden="true"></i> Uptime</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">© 2023 Xiang ZHU. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp;
<a href="https://mmistakes.github.io/minimal-mistakes/about/" rel="nofollow">Minimal Mistakes</a>
.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




  <script>
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'G-L9KPHRQNQN']);
  
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>






    
  <script>
    var disqus_config = function () {
      this.page.url = "https://www.copdips.com/2019/06/git-cheat-sheet.html";  /* Replace PAGE_URL with your page's canonical URL variable */
      this.page.identifier = "/2019/06/git-cheat-sheet"; /* Replace PAGE_IDENTIFIER with your page's unique identifier variable */
    };
    (function() { /* DON'T EDIT BELOW THIS LINE */
      var d = document, s = d.createElement('script');
      s.src = 'https://copdips.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript>


  





  </body>
</html>
